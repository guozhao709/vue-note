# 嵌套路由

页面可能是互相嵌套的，比如一个页面中有多个子页面，每个子页面又有自己的子页面。

url 通常可以反映嵌套结构, 比如:

```
/user/johnny/profile                   /user/johnny/posts
┌──────────────────┐                  ┌──────────────────┐
│ User             │                  │ User             │
│ ┌──────────────┐ │                  │ ┌──────────────┐ │
│ │ Profile      │ │  ────────────>   │ │ Posts        │ │
│ │              │ │                  │ │              │ │
│ └──────────────┘ │                  │ └──────────────┘ │
└──────────────────┘                  └──────────────────┘
```

注: 从上节可知, johnny 为 user 的参数

```js
const router = createRouter({
  history: createWebHistory(),
  routes: [
    {
      // 第一个页面
      path: "/",
      component: Main,
      name: "Main",
      children: [
        {
          // 进入页面后默认显示的子路由
          path: "",
          component: MainProduct,
        },
        {
          //第二个页面
          path: "product",
          component: MainProduct,
          name: "MainProduct",
          children: [
            {
              //第三个页面
              path: "product1",
              component: ProductOne,
              name: "Product1",
            },
            {
              path: "product2",
              component: ProductTwo,
              name: "Product2",
            },
          ],
        },
        {
          path: "user",
          component: MainUser,
          name: "MainUser",
        },
      ],
    },
    {
      path: "/login",
      component: Login,
      name: "Login",
    },
  ],
});
```

## 小的知识点

1. 以 / 开头的路由, 表示根路径, 子路径一般不写

2. 路由的 name 属性, 用于在模板中使用 `<router-link>` 组件, 跳转到指定路由

3. 一般来说, 是给父路由不设置名字的, 因为第一次访问页面时会直接渲染嵌套的子路由

4. 可以不给父路由设置 component 属性, 此时顶级的 router-view 会渲染子路由的组件

5. 在我的实践中, router-view 是直接 "替换子页面" 并非包裹子页面, 所以说给 router-view 的父盒子不要设置 flex 布局, 以免影响子页面的布局

## 复习

下一次复习: 12.4
