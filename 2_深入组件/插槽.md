# 插槽

## 概念

在父组件, 引用的子组件中插入 html 标签, 可以在子组件中(子组件文件)定义的<slot></slot>标签中解析出来。

其中, <slot></slot>被称为插槽出口

## 应用和注意事项

子组件提供样式, 父组件提供内容

父组件模板中的表达式只能访问父组件的作用域；子组件模板中的表达式只能访问子组件的作用域。

## 示例

### 默认内容

```vue
<template>
    <div>
        <slot>默认内容</slot>
    </div>
</template>
```

### 具名插槽

应用场景: 父组件提供不同的内容, 子组件根据不同的内容渲染不同的插槽, 没有名字则为默认插槽

子组件:

```vue
<template>
    <header>
        <slot name="header">默认头部</slot>
    </header>
    <main>
        <slot>默认内容</slot>
    </main>
    <footer>
        <slot name="footer">默认底部</slot>
    </footer>
</template>
```

父组件:

```vue
<template>
    <BaseLayout>
        <!-- 可简写为#header -->
        <template v-slot:header>
            <!-- header 插槽的内容放这里 -->
        </template>
    </BaseLayout>
</template>
```

### 条件插槽

重要属性: $slots.slotName, "返回"一个 bool 值, 用来判断父组件是否向对应插槽传递内容

```vue
<template>
    <div class="card">
        <div v-if="$slots.header" class="card-header">
            <slot name="header" />
        </div>

        <div v-if="$slots.default" class="card-content">
            <slot />
        </div>

        <div v-if="$slots.footer" class="card-footer">
            <slot name="footer" />
        </div>
    </div>
</template>
```

### 作用域插槽

子组件:
```vue
<div>
  <slot :text="greetingMessage" :count="1"></slot>
</div>
```

父组件:
```vue
<!-- 如果是具名插槽 用 #slotName="slotProps" -->
<MyComponent v-slot="slotProps">
  {{ slotProps.text }} {{ slotProps.count }}
</MyComponent>
```

相当于把子组件中的数据可以传递给父组件, 父组件在通过插槽渲染到子组件上

应用场景:

1. 子组件有数据(如: 列表数据), 但显示的样式想让父组件控制

2. 作用域插槽在需要同时封装逻辑、组合视图界面时还是很有用