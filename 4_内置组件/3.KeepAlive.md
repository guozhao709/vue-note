# KeepAlive 组件

功能是在多个组件间动态切换时缓存被移除的组件实例。

示例：

```vue
<script setup>
import { shallowRef } from "vue";
import CompA from "./CompA.vue";
import CompB from "./CompB.vue";

const current = shallowRef(CompA);
</script>

<template>
    <div class="demo">
        <label><input type="radio" v-model="current" :value="CompA" /> A</label>
        <label><input type="radio" v-model="current" :value="CompB" /> B</label>
        <KeepAlive>
            <component :is="current"></component>
        </KeepAlive>
    </div>
</template>
```

## 包含和排除

可以根据 include/exclude 选项来指定需要缓存的组件实例。

值有三种形式:

```html
<!-- 以英文逗号分隔的字符串 -->
<KeepAlive include="a,b">
    <component :is="view" />
</KeepAlive>

<!-- 正则表达式 (需使用 `v-bind`) -->
<KeepAlive :include="/a|b/">
    <component :is="view" />
</KeepAlive>

<!-- 数组 (需使用 `v-bind`) -->
<KeepAlive :include="['a', 'b']">
    <component :is="view" />
</KeepAlive>
```

## 最大缓存数

可以通过 max 属性设置最大缓存数, 使用 v-bind 绑定。

## 生命周期

如果被 keepAlive 缓存的组件实例被切换，则会触发以下生命周期：

-   onActivated: 组件被激活时触发
-   onDeactivated: 组件被切换时触发

同时对应两个 hooks
